<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>Thời khóa biểu Lớp 8A9</title>
<style>
  body { font-family: Arial; padding: 10px; }
  h1 { text-align: center; }
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
  th { background-color: #333; color: white; }
  .morning { background-color: #e0f7fa; }
  .afternoon { background-color: #ffe0b2; }
</style>
</head>
<body>
<h1>Thời khóa biểu Lớp 8A9</h1>
<div id="lastUpdated"></div>
<table id="scheduleTable">
  <thead>
    <tr>
      <th>Buổi / Thứ</th>
      <th>Thứ 2</th>
      <th>Thứ 3</th>
      <th>Thứ 4</th>
      <th>Thứ 5</th>
      <th>Thứ 6</th>
      <th>Thứ 7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sáng</td>
      <td class="morning"></td>
      <td class="morning"></td>
      <td class="morning"></td>
      <td class="morning"></td>
      <td class="morning"></td>
      <td class="morning"></td>
    </tr>
    <tr>
      <td>Chiều</td>
      <td class="afternoon"></td>
      <td class="afternoon"></td>
      <td class="afternoon"></td>
      <td class="afternoon"></td>
      <td class="afternoon"></td>
      <td class="afternoon"></td>
    </tr>
  </tbody>
</table>

<script>
  const rawURL = "https://raw.githubusercontent.com/ductrong49/8a9/main/data.json";

  async function loadSchedule() {
    try {
      const res = await fetch(rawURL);
      const data = await res.json();

      document.getElementById("lastUpdated").textContent = "Cập nhật lần cuối: " + new Date(data.lastUpdated).toLocaleString("vi-VN");

      const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
      const morningCells = document.querySelectorAll("td.morning");
      const afternoonCells = document.querySelectorAll("td.afternoon");

      days.forEach((day, i) => {
        morningCells[i].textContent = data.schedule[day].morning.join(", ");
        afternoonCells[i].textContent = data.schedule[day].afternoon.join(", ");
      });

    } catch (e) {
      alert("Lỗi tải dữ liệu thời khóa biểu: " + e.message);
    }
  }

  loadSchedule();
</script>
</body>
</html>
